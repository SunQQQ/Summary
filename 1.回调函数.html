<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>回调函数</title>
</head>
<body>
<script src="./plugins/jquery-3.2.1.min.js"></script>
<script>
    /*自己写一个回调函数，就是明白到底什么是回调函数了*/

    /*1：同步回调函数*/
    function getNodes(paras, callback) {
        var json = JSON.stringify(paras);
        typeof(callback) === "function" && callback(json);
    }
    /*就像这个函数,其实回调函数里已经把你传进的第一个参数进行了处理，并把处理得到的结果，传进了callback（第二个参数，一般是函数）。
     * 但是callback一般都没写内容，只是被传进了处理好的一个结果。函数内容是你来写的，这时你可以按意愿用前面那个结果做一些事情*/
    getNodes({name: "小名", sex: "MAN"}, function (a) {
        console.log(a);
        /*用该json干很多很多事情*/
    });

    /*2：异步回调函数*/
    /*跟上面一样，Jquery已经将从接口获取数据这个过程处理完了，然后把拿到的数据传给callback让你直接用*/
    $.post("url", function (data) {
        //用data渲染模板
    });

    /*一：为什么写回调函数？
     大家都知道js是单线程的，为了模仿实现多线程机制就创造了回调函数这种方式。
     以Jquery的post方法为例子，如果请求接口时网络很慢，这样就执行不到你写的callback里面的代码。
     就造成了大家常说的，异步函数可以在请求接口完毕后才执行后续的代码（渲染页面等操作）。*/
</script>
</body>
</html>